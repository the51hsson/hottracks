{"version":3,"sources":["ui_product_ink.js"],"names":["prodInfoThumbSwiper","prodThumbSwiper","prodThumbContainer","$","each","imgTg","this","imgContainer","closest","KyoboBookPub","ink","checkImagePortrait","hasClass","blurify","images","find","blur","mode","length","addClass","CustomSwiper","init","slidesPerView","effect","navigation","nextEl","prevEl","pagination","el","type","formatFractionCurrent","number","setPrependZero","formatFractionTotal","on","activeIndex","removeClass","siblings","slideTo","remove","mouseenter","mouseleave","reviewTabAnchor","reviewOffsetTop","Math","floor","offset","top","stop","animate","scrollTop","setProdDetailAnchor","_tabLinks","optionSelectBox","text","event","targetId","offsetTop","preventDefault","currentTarget","getAttribute","observer","MutationObserver","mutations","forEach","mutation","target","currentClassList","attributeName","classList","value","dataset","prevClass","parent","eq","document","querySelectorAll","observe","attributes","setProdTitleMoreBtn","overflowEl","overflowElCnt","index","window","add","foldBox","foldOnOff","foldClose","element","observeParents","loop","speed","freeMode","scrollbar","slidesPerGroup","spaceBetween","css"],"mappings":"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","file":"ui_product_ink.min.js","sourcesContent":["/*\n * name : ui_product_ink.js\n * desc : 상품 공통 자바스크립트\n * writer : glim\n * create : 2021/11/30\n * update :\n * -\n */\n\n$(window).on('load', function () {\n\tprodInfoThumbSwiper();\n});\n\n$(function () {\n\tsetProdDetailAnchor();\n\treviewTabAnchor();\n\n\tsetProdTitleMoreBtn();\n\n\t// 옵션 선택시 폴딩 닫힘\n\t$('.fold_select_item').add('.fold_select_prd').on('click', function(){\n\t\tvar foldBox = $(this).closest('.fold_box');\n\t\tKyoboBookPub.ink.foldOnOff().foldClose(foldBox);\n\t});\n\n\t// 리뷰 내 리뷰 썸네일 swiper\n\t$(\".review_swiper .swiper-container\").each(function (index, element) {\n\t\tvar reviewSwiper = new CustomSwiper(this, {\n\t\t\tobserver: true,\n\t\t\tobserveParents: true,\n\t\t\tslidesPerView: 'auto',\n\t\t\tloop: true,\n\t\t\tnavigation: {\n\t\t\t\tnextEl: $(this).siblings('.swiper-button-next'),\n\t\t\t\tprevEl: $(this).siblings('.swiper-button-prev'),\n\t\t\t},\n\t\t});\n\t});\n\n\t// 패키지 swiper\n\t$('.slide_list_package').each(function() {\n\t\tvar packageSwiper = new CustomSwiper(this, {\n\t\t\tslidesPerView: 'auto',\n\t\t\tspeed: 500,\n\t\t\tfreeMode: true,\n\t\t\tscrollbar: {\n\t\t\t\tel: $(this).find('.swiper-scrollbar')[0],\n\t\t\t},\n\t\t});\n\t})\n\n\t// 북카드\n\tvar bookCardSwiper = new CustomSwiper('.book_card_swiper .swiper-container', {\n\t\tslidesPerView: 'auto',\n\t\tslidesPerGroup: 2,\n\t\tobserver: true,\n\t\tobserveParents: true,\n\t\tloop: true,\n\t\tspeed: 500,\n\t\tnavigation: {\n\t\t\tnextEl: '.book_card_swiper .swiper-button-next',\n\t\t\tprevEl: '.book_card_swiper .swiper-button-prev',\n\t\t},\n\t});\n\n\t// 함께 구매한 책\n\tvar withThisSwiper = new CustomSwiper('.slide_list_with_this', {\n\t\tslidesPerView: 'auto',\n\t\tspeed: 500,\n\t\tfreeMode: true,\n\t\tscrollbar: {\n\t\t\tel: $('.slide_list_with_this').find('.swiper-scrollbar')[0],\n\t\t},\n\t});\n\n\t// 지금 진행하고 있는 문화서비스\n\tvar withThisSwiper = new CustomSwiper('.slide_list_cultural', {\n\t\tslidesPerView: 'auto',\n\t\tspeed: 500,\n\t\tfreeMode: true,\n\t\tscrollbar: {\n\t\t\tel: $('.slide_list_cultural').find('.swiper-scrollbar')[0],\n\t\t},\n\t});\n\n\t// 이 책의 시리즈\n\tvar bookSeriesSwiper = new CustomSwiper('.slide_list_series', {\n\t\tslidesPerView: 'auto',\n\t\tspeed: 500,\n\t\tfreeMode: true,\n\t\tscrollbar: {\n\t\t\tel: $('.slide_list_series').find('.swiper-scrollbar')[0],\n\t\t},\n\t});\n\t// 이 책의 시리즈\n\tvar bookEditionSwiper = new CustomSwiper('.side_list_edition', {\n\t\tslidesPerView: 'auto',\n\t\tspeed: 500,\n\t\tfreeMode: true,\n\t\tscrollbar: {\n\t\t\tel: $('.side_list_edition').find('.swiper-scrollbar')[0],\n\t\t},\n\t});\n\n\t// 소개된 책\n\tvar introduceBookSwiper = new CustomSwiper('.slide_prod_introduced', {\n\t\tslidesPerView: '1',\n\t\tspaceBetween: 20,\n\t\tspeed: 500,\n\t\tnavigation: {\n\t\t\tnextEl: $('.control_prod_introduced').find('.swiper_control_box .swiper-button-next')[0],\n\t\t\tprevEl: $('.control_prod_introduced').find('.swiper_control_box .swiper-button-prev')[0],\n\t\t},\n\t\tpagination: {\n\t\t\tel: $('.slide_prod_introduced').siblings('.title_wrap').find('.swiper_control_box .swiper-pagination')[0],\n\t\t\ttype: \"fraction\",\n\t\t\tformatFractionCurrent: function (number) {\n\t\t\t\treturn KyoboBookPub.ink.setPrependZero(number, 2);\n\t\t\t},\n\t\t\tformatFractionTotal: function (number) {\n\t\t\t\treturn KyoboBookPub.ink.setPrependZero(number, 2);\n\t\t\t},\n\t\t},\n\t});\n\n\t// 이 책의 연관상품\n\tif($('.slide_prod_linked .swiper-slide').length > 1) {\n\t\tvar linkedProdSwiper = new CustomSwiper('.slide_prod_linked', {\n\t\t\tslidesPerView: '1',\n\t\t\tspaceBetween: 20,\n\t\t\tspeed: 500,\n\t\t\tnavigation: {\n\t\t\t\tnextEl: $('.control_prod_linked').find('.swiper_control_box .swiper-button-next')[0],\n\t\t\t\tprevEl: $('.control_prod_linked').find('.swiper_control_box .swiper-button-prev')[0],\n\t\t\t},\n\t\t\tpagination: {\n\t\t\t\tel: $('.control_prod_linked').find('.swiper_control_box .swiper-pagination')[0],\n\t\t\t\ttype: \"fraction\",\n\t\t\t\tformatFractionCurrent: function (number) {\n\t\t\t\t\treturn KyoboBookPub.ink.setPrependZero(number, 2);\n\t\t\t\t},\n\t\t\t\tformatFractionTotal: function (number) {\n\t\t\t\t\treturn KyoboBookPub.ink.setPrependZero(number, 2);\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\t} else {\n\t\t$('.control_prod_linked').css('display', 'none');\n\t}\n\n\t// 이 책의 시리즈\n\tvar writerBooksSwiper = new CustomSwiper('.slide_writer_books', {\n\t\tslidesPerView: 'auto',\n\t\tspeed: 500,\n\t\tfreeMode: true,\n\t\tscrollbar: {\n\t\t\tel: $('.slide_writer_books').find('.swiper-scrollbar')[0],\n\t\t},\n\t});\n\n\t// 문장수집\n\tvar killingPartSwiper = new CustomSwiper('.killing_part_swiper .swiper-container', {\n\t\tslidesPerView: 'auto',\n\t\tloop: true,\n\t\tspeed: 500,\n\t\tobserver: true,\n\t\tobserveParents: true,\n\t\tnavigation: {\n\t\t\tnextEl: '.killing_part_swiper .swiper-button-next',\n\t\t\tprevEl: '.killing_part_swiper .swiper-button-prev',\n\t\t},\n\t});\n\n\tvar recommendEventSwiper = new CustomSwiper('.recommend_event_list', {\n\t\tslidesPerView: 'auto',\n\t\tspeed: 500,\n\t\tspaceBetween: 16,\n\t\tfreeMode: true,\n\t\tscrollbar: {\n\t\t\tel: $('.recommend_event_list').find('.swiper-scrollbar')[0],\n\t\t},\n\t});\n\n\t// 다른 강연 / 동영상 등 컨텐츠 텍스트 링크 리스트\n\tif($('.person_contents_swiper .swiper-slide').length > 1){\n\t\tvar personContentsSwiper = new CustomSwiper('.person_contents_swiper', {\n\t\t\tslidesPerView: 1,\n\t\t\tspaceBetween: 20,\n\t\t\tspeed: 500,\n\t\t\tnavigation: {\n\t\t\t\tnextEl: $('.control_person_contents').find('.swiper_control_box .swiper-button-next')[0],\n\t\t\t\tprevEl: $('.control_person_contents').find('.swiper_control_box .swiper-button-prev')[0],\n\t\t\t},\n\t\t\tpagination: {\n\t\t\t\tel: $('.control_person_contents').find('.swiper_control_box .swiper-pagination')[0],\n\t\t\t\ttype: \"fraction\",\n\t\t\t\tformatFractionCurrent: function (number) {\n\t\t\t\t\treturn KyoboBookPub.ink.setPrependZero(number, 2);\n\t\t\t\t},\n\t\t\t\tformatFractionTotal: function (number) {\n\t\t\t\t\treturn KyoboBookPub.ink.setPrependZero(number, 2);\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\t} else {\n\t\t$('.control_person_contents').css('display', 'none');\n\t}\n\n\t// 인물 리스트 (강연자 / 제작자 / 공연 / 동행자 등)\n\tif($('.person_list_area .swiper-container .swiper-slide').length > 1){\n\t\t\tvar personListSwiper = new CustomSwiper('.person_list_area .swiper-container', {\n\t\t\tslidesPerView: 1,\n\t\t\tspaceBetween: 20,\n\t\t\tspeed: 500,\n\t\t\tnavigation: {\n\t\t\t\tnextEl: $('.person_list_area').find('.swiper_control_box .swiper-button-next')[0],\n\t\t\t\tprevEl: $('.person_list_area').find('.swiper_control_box .swiper-button-prev')[0],\n\t\t\t},\n\t\t});\n\t} else {\n\t\t$('.person_list_area').find('.swiper_control_box').css('display', 'none');\n\t}\n\n\t// 함께 하는 상품\n\tif($('.prod_related_swiper .swiper-slide').length > 1){\n\t\tvar personContentsSwiper = new CustomSwiper('.prod_related_swiper', {\n\t\t\tslidesPerView: 1,\n\t\t\tspaceBetween: 20,\n\t\t\tspeed: 500,\n\t\t\tnavigation: {\n\t\t\t\tnextEl: $('.control_prod_related').find('.swiper_control_box .swiper-button-next')[0],\n\t\t\t\tprevEl: $('.control_prod_related').find('.swiper_control_box .swiper-button-prev')[0],\n\t\t\t},\n\t\t\tpagination: {\n\t\t\t\tel: $('.control_prod_related').find('.swiper_control_box .swiper-pagination')[0],\n\t\t\t\ttype: \"fraction\",\n\t\t\t\tformatFractionCurrent: function (number) {\n\t\t\t\t\treturn KyoboBookPub.ink.setPrependZero(number, 2);\n\t\t\t\t},\n\t\t\t\tformatFractionTotal: function (number) {\n\t\t\t\t\treturn KyoboBookPub.ink.setPrependZero(number, 2);\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\t} else {\n\t\t$('.control_prod_related').css('display', 'none');\n\t}\n});\n\n// 상품 정보 영역 swiper\nfunction prodInfoThumbSwiper() {\n\tvar prodThumbContainer = $('.prod_thumb_swiper_wrap');\n\n\t$('.portrait_img_box').each(function () {\n\t\tvar imgTg = $(this);\n\t\tvar imgContainer = $(this).closest('.blur_img_wrap');\n\t\tKyoboBookPub.ink.checkImagePortrait(imgTg, imgContainer);\n\t});\n\n\t$('.blur_img_wrap').each(function () {\n\t\tif ($(this).hasClass('landscape')) {\n\t\t\tnew blurify({\n\t\t\t\timages: $(this).find('.blur_img_box img'),\n\t\t\t\tblur: 6,\n\t\t\t\tmode: 'auto',\n\t\t\t});\n\t\t}\n\t});\n\n\tvar prodThumbSwiper;\n\tif ($('.swiper-slide', prodThumbContainer).length > 1) {\n\t\tprodThumbContainer.addClass('active');\n\t\tprodThumbSwiper = new CustomSwiper(prodThumbContainer.find('.swiper-container'), {\n\t\t\tinit: false,\n\t\t\tslidesPerView: 1,\n\t\t\teffect: 'fade',\n\t\t\tnavigation: {\n\t\t\t\tnextEl: prodThumbContainer.find('.swiper_control_box .swiper-button-next')[0],\n\t\t\t\tprevEl: prodThumbContainer.find('.swiper_control_box .swiper-button-prev')[0],\n\t\t\t},\n\t\t\tpagination: {\n\t\t\t\tel: prodThumbContainer.find('.swiper_control_box .swiper-pagination')[0],\n\t\t\t\ttype: 'fraction',\n\t\t\t\tformatFractionCurrent: function (number) {\n\t\t\t\t\treturn KyoboBookPub.ink.setPrependZero(number, 2);\n\t\t\t\t},\n\t\t\t\tformatFractionTotal: function (number) {\n\t\t\t\t\treturn KyoboBookPub.ink.setPrependZero(number, 2);\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\n\t\tprodThumbSwiper.init();\n\n\t\tprodThumbSwiper.on('slideChange', function () {\n\t\t\tif (prodThumbSwiper.activeIndex === 0) {\n\t\t\t\t$('.btn_swiper_floating.prev', prodThumbContainer).addClass('disabled');\n\t\t\t\t$('.btn_swiper_floating.next', prodThumbContainer).removeClass('disabled');\n\t\t\t} else if (prodThumbSwiper.activeIndex === $('.swiper-slide', prodThumbContainer).length - 1) {\n\t\t\t\t$('.btn_swiper_floating.next', prodThumbContainer).addClass('disabled');\n\t\t\t\t$('.btn_swiper_floating.prev', prodThumbContainer).removeClass('disabled');\n\t\t\t} else {\n\t\t\t\t$('.btn_swiper_floating.next', prodThumbContainer).removeClass('disabled');\n\t\t\t\t$('.btn_swiper_floating.prev', prodThumbContainer).removeClass('disabled');\n\t\t\t}\n\t\t})\n\n\t\t$('.btn_swiper_floating', prodThumbContainer).on('click', function () {\n\t\t\tif ($(this).hasClass('prev')) {\n\t\t\t\t$(this).siblings().removeClass('disabled');\n\n\t\t\t\tif ($(this).hasClass('disabled')) $(this).removeClass('disabled');\n\t\t\t\tprodThumbSwiper.slideTo(prodThumbSwiper.activeIndex - 1);\n\n\t\t\t\tif (prodThumbSwiper.activeIndex === 0) {\n\t\t\t\t\t$(this).addClass('disabled');\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t$(this).siblings().removeClass('disabled');\n\n\t\t\t\tif ($(this).hasClass('disabled')) $(this).removeClass('disabled');\n\t\t\t\tprodThumbSwiper.slideTo(prodThumbSwiper.activeIndex + 1);\n\n\t\t\t\tif (prodThumbSwiper.activeIndex === $('.swiper-slide', prodThumbContainer).length - 1) {\n\t\t\t\t\t$(this).addClass('disabled');\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t} else {\n\t\t$('.btn_swiper_floating', prodThumbContainer).remove();\n\t\t$('.swiper_control_box', prodThumbContainer).remove();\n\t}\n\n\tprodThumbContainer.on({\n\t\t'mouseenter': function () {\n\t\t\tprodThumbContainer.addClass('hover');\n\t\t},\n\t\t'mouseleave': function () {\n\t\t\tprodThumbContainer.removeClass('hover');\n\t\t}\n\t});\n}\n\n// 상품 상단 - 리뷰 영역 선택 시 하단 리뷰로 이동\nfunction reviewTabAnchor() {\n\tif ($('.prod_review_box .btn_go_review').length > 0) {\n\t\t$('.prod_review_box .btn_go_review').on('click', function () {\n\t\t\tvar reviewOffsetTop;\n\t\t\treviewOffsetTop = Math.floor($('#scrollSpyProdReview').offset().top) - 71;\n\t\t\t$('html, body').stop().animate({scrollTop: reviewOffsetTop}, 300);\n\t\t});\n\t}\n}\n\n// 상품상세 앵커탭 기능\nfunction setProdDetailAnchor() {\n\tif ($('.tab_wrap.prod_detail_body').length > 0) {\n\t\tvar _tabLinks;\n\t\t_tabLinks = $('.tab_wrap.prod_detail_body > .tab_list_wrap .tabs .tab_item .tab_link');\n\n\t\t// 옵션영역 펼치기\n\t\t$('.btn_option_more', '.prod_option_info_wrap').on('click', function () {\n\t\t\tvar optionSelectBox = $(this).closest('.prod_option_info_wrap');\n\n\t\t\tif (optionSelectBox.hasClass('active')) {\n\t\t\t\toptionSelectBox.removeClass('active');\n\t\t\t\t$(this).find('.hidden').text('옵션 선택 영역 접기');\n\t\t\t} else {\n\t\t\t\toptionSelectBox.addClass('active');\n\t\t\t\t$(this).find('.hidden').text('옵션 선택 영역 펼치기');\n\t\t\t}\n\t\t});\n\n\t\t// 상품 상세 탭 링크 클릭시 해당 위치로 이동\n\t\t_tabLinks.on('click.product', function (event) {\n\t\t\tvar targetId, offsetTop;\n\t\t\tevent.preventDefault();\n\n\t\t\ttargetId = event.currentTarget.getAttribute('href');\n\t\t\toffsetTop = $(targetId).offset().top - 71;\n\t\t\t$('html, body').stop().animate({scrollTop: offsetTop}, 300);\n\t\t});\n\n\t\t// 상세 컨텐츠 블럭별 class 값 변경 Observer\n\t\tvar observer = new MutationObserver(function (mutations) {\n\t\t\tmutations.forEach(function (mutation) {\n\t\t\t\tif (mutation.attributeName === 'class') {\n\t\t\t\t\tvar target, currentClassList;\n\t\t\t\t\ttarget = mutation.target;\n\t\t\t\t\tcurrentClassList = target.classList.value;\n\t\t\t\t\tif (target.dataset.prevClass !== currentClassList) {\n\t\t\t\t\t\ttarget.dataset.prevClass = currentClassList;\n\n\t\t\t\t\t\tsetTabBtnActive();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t\t// 스크롤에 따라 탭 active 상태 변경\n\t\tfunction setTabBtnActive() {\n\t\t\tvar activeIndex;\n\t\t\tactiveIndex = $('.prod_detail_contents .tab_content.sps-blw').length - 1;\n\n\t\t\t_tabLinks.parent().removeClass('active');\n\t\t\tif (activeIndex !== -1) {\n\t\t\t\t_tabLinks.eq(activeIndex).parent().addClass('active');\n\t\t\t}\n\t\t}\n\n\t\tdocument.querySelectorAll('.prod_detail_contents .tab_content.sps').forEach(function (target) {\n\t\t\ttarget.dataset.prevClass = target.classList;\n\t\t\tobserver.observe(target, {attributes: true});\n\t\t});\n\t}\n}\n\n// 상품 상세 상단 타이틀 더보기 버튼 - 한 개만 노출 되도록\nfunction setProdTitleMoreBtn() {\n\tvar overflowEl, overflowElCnt;\n\toverflowEl = $('.prod_detail_title_wrap .auto_overflow_wrap.overflow');\n\toverflowElCnt = overflowEl.length;\n\n\tif (overflowElCnt > 1) {\n\t\toverflowEl.each(function (index) {\n\t\t\tif (index < overflowElCnt - 1) {\n\t\t\t\t$(this).find('> .auto_overflow_footer .btn_more_detail').remove();\n\t\t\t}\n\t\t});\n\t}\n\n}"]}